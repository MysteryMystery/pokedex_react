(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(24),o=n.n(s),i=(n(31),n(32),n(6)),c=n.n(i),u=n(12),l=n(3),d=n(4),h=n(13),p=n(10),b=n(9),m=function(){function e(){Object(l.a)(this,e),this.STORAGE_KEY="pokemon",this._pokemon=[],e.instance=this}return Object(d.a)(e,[{key:"getAllPokemon",value:function(){return this._pokemon}},{key:"getPokemon",value:function(e){return this.getAllPokemon()[e-1]}},{key:"putPokemon",value:function(e,t){this._pokemon[e-1]=t}},{key:"getSpecies",value:function(e){var t=this.getPokemon(e);if(t&&t.species&&void 0===t.species.url)return t.species}},{key:"putSpecies",value:function(e,t){void 0===this.getPokemon(e)&&this.putPokemon(e,{});var n=this.getPokemon(e);n.species=t,this.putPokemon(e,n)}},{key:"getEvolutionChain",value:function(e){var t=this.getSpecies(e);if(t&&t.evolution_chain&&void 0===t.evolution_chain.url)return t.evolution_chain}},{key:"putEvolutionChain",value:function(e,t){var n=this.getPokemon(e);void 0===n&&this.putPokemon(e,{species:{}}),(n=this.getPokemon(e)).species.evolution_chain=t,this.putPokemon(e,n)}}],[{key:"getInstance",value:function(){return void 0===this.instance&&new this,this.instance}}]),e}(),j=function(){function e(){Object(l.a)(this,e),this.endpoint="https://pokeapi.co/api/v2/",this.NUMBER_OF_POKEMON=932,this.BASE_STAT_MAX=255,e.instance=this}return Object(d.a)(e,[{key:"getAllPokemon",value:function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.endpoint+"pokemon/?limit="+this.NUMBER_OF_POKEMON).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPokemon",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=this.cache.getPokemon(t))){e.next=6;break}return e.next=4,fetch(this.endpoint+"pokemon/"+t).then((function(e){return e.json()}));case 4:n=e.sent,this.cache.putPokemon(t,n);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEvolutionChainFromSpecies",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSpecies(t);case 2:if(n=e.sent,void 0!==(r=this.cache.getEvolutionChain(t))){e.next=9;break}return e.next=7,fetch(n.evolution_chain.url).then((function(e){return e.json()}));case 7:r=e.sent,this.cache.putEvolutionChain(t,r);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSpecies",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cache.getSpecies(t);case 2:if(e.t0=e.sent,e.t1=void 0,e.t0!==e.t1){e.next=9;break}return e.next=7,fetch(this.endpoint+"pokemon-species/"+t).then((function(e){return e.json()}));case 7:n=e.sent,this.cache.putSpecies(t,n);case 9:return e.abrupt("return",this.cache.getSpecies(t));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"baseStatToPercentage",value:function(e){return e/this.BASE_STAT_MAX*100}},{key:"cache",get:function(){return m.getInstance()}}],[{key:"getInstance",value:function(){return void 0===this.instance&&new this,this.instance}}]),e}(),f=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,null,[{key:"getBG",value:function(e){return this.getField(e,"bg")}},{key:"getBorder",value:function(e){return this.getField(e,"border")}},{key:"getField",value:function(e,t){try{return this.__types[e][t]}catch(n){return"#fff"}}}]),e}();f.__types={normal:{border:"#979779",bg:"#a8a878"},fire:{border:"#9c531f",bg:"#f08030"},fighting:{border:"#7d1f1a",bg:"#c03028"},water:{border:"#445e9c",bg:"#6890f0"},flying:{border:"#6d5e9c",bg:"#a890f0"},grass:{bg:"#78c850",border:"#4e8234"},poison:{bg:"#a040a0",border:"#682a68"},electric:{bg:"#f8d030",border:"#a1871f"},ground:{bg:"#e0c068",border:"#968047"},psychic:{bg:"#f85888",border:"#a13959"},rock:{bg:"#b8a038",border:"#786824"},ice:{bg:"#98d8d8",border:"#638d8d"},bug:{bg:"#a8b820",border:"#6d7815"},dragon:{bg:"#7038f8",border:"#4924a1"},ghost:{bg:"#705898",border:"#493963"},dark:{bg:"#705848",border:"#49392f"},steel:{bg:"#b8b8d0",border:"#787887"},fairy:{bg:"#ee99ac",border:"#9b6470"},"???":{bg:"#68a090",border:"#44685e"}};var g=n(0),v=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(g.jsx)("span",{className:"items-center justify-center px-2 py-1 m-1 rounded-sm text-xs font-bold border "+this.props.className,style:this.props.autoGen||void 0===this.props.autoGen?{backgroundColor:f.getBG(this.props.type),borderColor:f.getBorder(this.props.type),borderWidth:"0.15rem"}:{},children:this.props.children})}}]),n}(a.a.Component),x=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e,t;return Object(g.jsx)("div",{className:"relative pt-1",children:Object(g.jsx)("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-700",style:{backgroundColor:null!==(e=this.props.bg)&&void 0!==e?e:""},children:Object(g.jsx)("div",{style:{width:null!==(t=this.props.width)&&void 0!==t?t:"0%",backgroundColor:this.props.fg},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ",children:this.props.children})})})}}]),n}(a.a.Component),k=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,null,[{key:"getStat",value:function(e){var t;return null!==(t=this.__stats[e])&&void 0!==t?t:"#333"}}]),e}();k.__stats={attack:"#F08030",defense:"#F8D030",hp:"#FF0000",jump:"#39BD62",power:"#FF4131",skill:"#317BEE","special-attack":"#6890F0","special-defense":"#78C850",speed:"#F85888",stamina:"#EECD31"};var O=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},y=function e(t){return t instanceof Array?t.map((function(e){return O(e)})).join(" "):e(t.split(" "))},_=function(e){return y(function(e){return e.split("-")}(e))},N=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.pokemon;return Object(g.jsx)("div",{className:"w-full m-1 md:m-3",children:t.stats.map((function(t){return Object(g.jsxs)("div",{children:[e.props.showValue?Object(g.jsxs)("p",{children:[Object(g.jsxs)("span",{className:"font-bold",children:[O(t.stat.name),":"]})," ",t.base_stat]}):"",Object(g.jsx)(x,{bg:"bg-pink-200",fg:k.getStat(t.stat.name),width:j.getInstance().baseStatToPercentage(t.base_stat)})]},t.stat.name)}))})}}]),n}(a.a.Component),w=function(e){var t="mx-1 shadow-inner-lg m-2 "+(!!e.secondary?"bg-gray-500 rounded-3xl":"bg-white rounded-full")+" "+e.className,n={backgroundSize:"cover",backgroundRepeat:"no-repeat"};if(e.pokemon){var r=e.pokemon;return Object(g.jsx)("img",{className:t,style:n,src:r.sprites.front_default,alt:r.name})}return Object(g.jsx)("img",{className:t,style:n,src:e.url,alt:e.alt})},S=n(2),C=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={suggestions:[]},r.suggest=r.suggest.bind(Object(h.a)(r)),r}return Object(d.a)(n,[{key:"suggest",value:function(e){var t=e.target.value.toLowerCase();if(t.length<3)this.setState({suggestions:[]});else{var n=this.props.pokemon.filter((function(e){return e.name.includes(t)}));this.setState({suggestions:n})}}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{className:"text-4xl text-center h-24 w-full text-gray-700 bg-gray-400 shadow-inner-lg p-4",onKeyUp:this.suggest}),Object(g.jsx)("div",{className:"flex "+(this.state.suggestions.length>0?"mb-2":""),children:this.state.suggestions.map((function(t){return Object(g.jsx)("div",{className:"text-xl shadow-inner-lg bg-gray-800 hover:bg-gray-500 p-2",onClick:function(){return e.props.history.push("/show/"+t.id)},children:O(t.name)},t.name)}))})]})}}]),n}(a.a.Component),P=Object(S.f)(C),E=n(16),B=function(e){return Object(g.jsx)("div",{className:"flex flex-wrap justify-center ",children:Object(g.jsx)(E.TailSpin,{height:"50%",width:"50%"})})},F=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={pokemon:[],expanded_pokemon:0,is_loading_pokemon:!1},r.BATCH_SIZE=50,r.loadNextPokemonBatch=r.loadNextPokemonBatch.bind(Object(h.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadNextPokemonBatch(151)}},{key:"loadNextPokemonBatch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.BATCH_SIZE,n=j.getInstance(),r=this.state.pokemon.length;this.setState({is_loading_pokemon:!0});var a=this;Object(u.a)(c.a.mark((function e(){var s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=function(e){if(e>n.NUMBER_OF_POKEMON)return"break";n.getPokemon(e).then((function(t){a.state.pokemon.splice(e-1,0,t)}))},o=r+1;case 2:if(!(o<=r+t)){e.next=9;break}if("break"!==s(o)){e.next=6;break}return e.abrupt("break",9);case 6:o++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})))().then((function(){a.state.is_loading_pokemon=!1,a.setState(e.state)}))}},{key:"isSelected",value:function(e){return e.id===this.state.expanded_pokemon}},{key:"render",value:function(){var e=this,t=this.state.pokemon;return Object(g.jsxs)("div",{children:[Object(g.jsx)(P,{pokemon:t}),Object(g.jsx)("div",{className:"flex flex-wrap browse justify-center",children:t.map((function(t){return Object(g.jsx)("div",{className:"card shadow-inner-lg text-center bg-gray-800 hover:bg-gray-500 p-4 "+(e.state.expanded_pokemon===t.id?"expanded":""),onMouseOver:function(){return e.setState({expanded_pokemon:t.id})},onClick:function(){return e.props.history.push("/show/"+t.id)},children:Object(g.jsxs)("div",{className:"grid grid-cols-2",children:[Object(g.jsxs)("div",{className:e.isSelected(t)?"":"col-span-2",children:[Object(g.jsx)(w,{className:"mx-auto",pokemon:t}),Object(g.jsx)("div",{style:{border:"solid 0.1rem",borderColor:f.getBorder(t.types[0].type.name)}}),Object(g.jsx)("div",{className:"text-white",children:t.name[0].toUpperCase()+t.name.slice(1)}),t.types.map((function(e){return Object(g.jsx)(v,{type:e.type.name,children:O(e.type.name)},e.type.name)}))]}),e.isSelected(t)?Object(g.jsx)(N,{pokemon:t}):""]})},t.id)}))}),Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("button",{className:"bg-gray-200 text-gray-800 p-3 hover:shadow-inner",onClick:function(){return e.loadNextPokemonBatch()},children:this.state.is_loading_pokemon?Object(g.jsx)(E.TailSpin,{}):"Load More..."})})]})}}]),n}(a.a.Component),A=n(22),M=function(e){var t;return Object(g.jsx)("div",{className:"flex flex-wrap rounded-3xl shadow-inner-lg mb-2 "+(null!==(t=e.className)&&void 0!==t?t:"bg-gray-800"),children:e.children})},I=function(e){var t=e.pokemon;return Object(g.jsxs)("div",{className:"m-3 w-full",children:[Object(g.jsxs)("div",{className:"grid grid-cols-3 m-1 p-1 bg-gray-700 text-gray-700 font-bold rounded-t-md",children:[Object(g.jsx)("div",{className:"mx-auto rounded-full bg-gray-200 px-2",children:"Move"}),Object(g.jsx)("div",{className:"mx-auto rounded-full bg-gray-200 px-2",children:"Level"}),Object(g.jsx)("div",{className:"mx-auto rounded-full bg-gray-200 px-2",children:"Learn Method"})]}),t.moves.sort((function(e,t){return e.move.name<t.move.name?-1:e.move.name>t.move.name?1:0})).map((function(e){return Object(g.jsxs)("div",{className:"grid grid-cols-3 m-1 p-1 bg-gray-700",children:[Object(g.jsx)("div",{className:"mx-auto",children:_(e.move.name)}),Object(g.jsx)("div",{className:"mx-auto",children:e.version_group_details[0].level_learned_at}),Object(g.jsx)("div",{className:"mx-auto",children:_(e.version_group_details[0].move_learn_method.name)})]},e.move.name)}))]})},T=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={pokemon:void 0,evo_chain:void 0},r.populate=r.populate.bind(Object(h.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.populate()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.location!==e.location&&this.populate()}},{key:"populate",value:function(){var e=this,t=this.props.match.params.pokemon;j.getInstance().getPokemon(t).then((function(t){return e.setState({pokemon:t})})),this.formatEvoChain().then((function(t){return e.setState({evo_chain:t})}))}},{key:"formatEvoChain",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n,r,a,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getInstance().getEvolutionChainFromSpecies(this.props.match.params.pokemon);case 2:t=e.sent,n=[],r=t.chain;case 5:if(!r||!r.species){e.next=15;break}return a=r.species.url.split("/"),s=parseInt(a[a.length-2]),e.next=10,j.getInstance().getPokemon(s);case 10:o=e.sent,n.push(o),r=r.evolves_to[0],e.next=5;break;case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.pokemon,n=this.state.evo_chain;return void 0===t||void 0===n?Object(g.jsx)(B,{}):Object(g.jsx)("div",{className:"flex justify-center",children:Object(g.jsx)("div",{className:"w-full lg:w-5/6 shadow-inner-lg bg-gray-500 p-4",children:Object(g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 md:gap-4",children:[Object(g.jsxs)("div",{className:"order-first",children:[Object(g.jsxs)(M,{children:[Object(g.jsx)("div",{children:Object(g.jsx)(w,{pokemon:t})}),Object.entries(t.sprites).filter((function(e){var t=Object(A.a)(e,2),n=(t[0],t[1]);return null!==n&&"object"!==typeof n})).sort((function(e,t){return t[0].localeCompare(e[0])})).map((function(e){var t=Object(A.a)(e,2),n=t[0],r=t[1];return Object(g.jsx)("div",{children:Object(g.jsx)(w,{url:r,alt:n,secondary:!0})},n)}))]}),Object(g.jsx)(M,{className:"bg-gray-200 justify-center",children:this.state.evo_chain.map((function(t){return Object(g.jsxs)("div",{className:"cursor-pointer",onClick:function(){return e.props.history.push("/show/"+t.id)},children:[Object(g.jsx)(w,{url:t.sprites.front_default,alt:t.id,secondary:!0}),Object(g.jsx)("div",{className:"mb-3",children:t.types.map((function(e){return Object(g.jsx)(v,{type:e.type.name,children:O(e.type.name)},e.type.name)}))})]},t.id)}))}),Object(g.jsx)(M,{className:"bg-gray-200 justify-center",children:this.state.pokemon.abilities.sort((function(e,t){return e.slot<t.slot})).map((function(e){return Object(g.jsx)("div",{className:"cursor-pointer",children:Object(g.jsx)("div",{className:"my-3",children:Object(g.jsx)(v,{className:"bg-black",autoGen:!1,children:_(e.ability.name)})})},e.slot)}))})]}),Object(g.jsx)("div",{className:"order-2 md:order-3",children:Object(g.jsx)(M,{children:Object(g.jsx)(N,{pokemon:t,showValue:!0})})}),Object(g.jsx)("div",{className:"order-last",children:Object(g.jsx)(M,{children:Object(g.jsx)(I,{pokemon:t})})})]})})})}}]),n}(a.a.Component),D=n(19),U=n(26),G=n.n(U);var L=function(){return Object(g.jsx)(D.a,{basename:"/pokedex_react",children:Object(g.jsx)("div",{className:"App h-screen bg-black text-white overflow-auto",children:Object(g.jsxs)(S.c,{children:[Object(g.jsx)(S.a,{exact:!0,path:"/",component:F}),Object(g.jsx)(S.a,{exact:!0,path:"/loading",component:B}),Object(g.jsx)(S.a,{exact:!0,path:"/cache",children:Object(g.jsx)(G.a,{src:m.getInstance().getAllPokemon(),theme:"monokai",name:null})}),Object(g.jsx)(S.a,{path:"/show/:pokemon",component:T})]})})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),s(e),o(e)}))};o.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(L,{})}),document.getElementById("root")),K()}},[[40,1,2]]]);
//# sourceMappingURL=main.dfb8e600.chunk.js.map