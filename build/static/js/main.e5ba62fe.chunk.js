(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(21),o=n.n(s),c=(n(29),n(30),n(4)),i=n(5),u=n(11),l=n(10),d=n(8),h=n.n(d),p=n(12),b=function(){function e(){Object(c.a)(this,e),this._pokemon=[],this._pointer=0,e.instance=this}return Object(i.a)(e,[{key:"getPokemon",value:function(e){return this._pokemon[e-1]}},{key:"putPokemon",value:function(e,t){this._pokemon[e-1]=t}},{key:"getSpecies",value:function(e){var t=this.getPokemon(e);if(t&&t.species&&void 0===t.species.url)return t.species}},{key:"putSpecies",value:function(e,t){void 0===this.getPokemon(e)&&this.putPokemon(e,{});var n=this.getPokemon(e);n.species=t,this.putPokemon(e,n)}},{key:"getEvolutionChain",value:function(e){var t=this.getSpecies(e);if(t&&t.evolution_chain&&void 0===t.evolution_chain.url)return t.evolution_chain}},{key:"putEvolutionChain",value:function(e,t){var n=this.getPokemon(e);void 0===n&&this.putPokemon(e,{species:{}}),(n=this.getPokemon(e)).species.evolution_chain=t,this.putPokemon(e,n)}},{key:Symbol.iterator,value:function(){return this.next()}},{key:"next",value:function(){return{done:this._pointer>=this._pokemon.length-1,value:this._pokemon[this._pointer++]}}}],[{key:"getInstance",value:function(){return void 0===this.instance&&new this,this.instance}}]),e}(),f=function(){function e(){Object(c.a)(this,e),this.endpoint="https://pokeapi.co/api/v2/",this.NUMBER_OF_POKEMON=932,this.BASE_STAT_MAX=255,e.instance=this}return Object(i.a)(e,[{key:"getAllPokemon",value:function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.endpoint+"pokemon/?limit="+this.NUMBER_OF_POKEMON).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPokemon",value:function(){var e=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===(n=this.cache.getPokemon(t))&&(n=fetch(this.endpoint+"pokemon/"+t).then((function(e){return e.json()})),this.cache.putPokemon(t,n)),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEvolutionChainFromSpecies",value:function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSpecies(t);case 2:if(n=e.sent,void 0!==(r=this.cache.getEvolutionChain(t))){e.next=9;break}return e.next=7,fetch(n.evolution_chain.url).then((function(e){return e.json()}));case 7:r=e.sent,this.cache.putEvolutionChain(t,r);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSpecies",value:function(){var e=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cache.getSpecies(t);case 2:if(e.t0=e.sent,e.t1=void 0,e.t0!==e.t1){e.next=9;break}return e.next=7,fetch(this.endpoint+"pokemon-species/"+t).then((function(e){return e.json()}));case 7:n=e.sent,this.cache.putSpecies(t,n);case 9:return e.abrupt("return",this.cache.getSpecies(t));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"baseStatToPercentage",value:function(e){return e/this.BASE_STAT_MAX*100}},{key:"cache",get:function(){return b.getInstance()}}],[{key:"getInstance",value:function(){return void 0===this.instance&&new this,this.instance}}]),e}(),j=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,null,[{key:"getBG",value:function(e){return this.getField(e,"bg")}},{key:"getBorder",value:function(e){return this.getField(e,"border")}},{key:"getField",value:function(e,t){try{return this.__types[e][t]}catch(n){return"#fff"}}}]),e}();j.__types={normal:{border:"#979779",bg:"#a8a878"},fire:{border:"#9c531f",bg:"#f08030"},fighting:{border:"#7d1f1a",bg:"#c03028"},water:{border:"#445e9c",bg:"#6890f0"},flying:{border:"#6d5e9c",bg:"#a890f0"},grass:{bg:"#78c850",border:"#4e8234"},poison:{bg:"#a040a0",border:"#682a68"},electric:{bg:"#f8d030",border:"#a1871f"},ground:{bg:"#e0c068",border:"#968047"},psychic:{bg:"#f85888",border:"#a13959"},rock:{bg:"#b8a038",border:"#786824"},ice:{bg:"#98d8d8",border:"#638d8d"},bug:{bg:"#a8b820",border:"#6d7815"},dragon:{bg:"#7038f8",border:"#4924a1"},ghost:{bg:"#705898",border:"#493963"},dark:{bg:"#705848",border:"#49392f"},steel:{bg:"#b8b8d0",border:"#787887"},fairy:{bg:"#ee99ac",border:"#9b6470"},"???":{bg:"#68a090",border:"#44685e"}};var m=n(0),v=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(m.jsx)("span",{className:"items-center justify-center px-2 py-1 m-1 rounded-sm text-xs font-bold border",style:{backgroundColor:j.getBG(this.props.type),borderColor:j.getBorder(this.props.type),borderWidth:"0.15rem"},children:this.props.children})}}]),n}(a.a.Component),g=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e,t;return Object(m.jsx)("div",{className:"relative pt-1",children:Object(m.jsx)("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-700",style:{backgroundColor:null!==(e=this.props.bg)&&void 0!==e?e:""},children:Object(m.jsx)("div",{style:{width:null!==(t=this.props.width)&&void 0!==t?t:"0%",backgroundColor:this.props.fg},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ",children:this.props.children})})})}}]),n}(a.a.Component),x=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,null,[{key:"getStat",value:function(e){var t;return null!==(t=this.__stats[e])&&void 0!==t?t:"#333"}}]),e}();x.__stats={attack:"#F08030",defense:"#F8D030",hp:"#FF0000",jump:"#39BD62",power:"#FF4131",skill:"#317BEE","special-attack":"#6890F0","special-defense":"#78C850",speed:"#F85888",stamina:"#EECD31"};var k=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},O=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props.pokemon;return Object(m.jsx)("div",{className:"w-full m-1 md:m-3",children:t.stats.map((function(t){return Object(m.jsxs)("div",{children:[e.props.showValue?Object(m.jsxs)("p",{children:[Object(m.jsxs)("span",{className:"font-bold",children:[k(t.stat.name),":"]})," ",t.base_stat]}):"",Object(m.jsx)(g,{bg:"bg-pink-200",fg:x.getStat(t.stat.name),width:f.getInstance().baseStatToPercentage(t.base_stat)})]},t.stat.name)}))})}}]),n}(a.a.Component),y=(n(33),function(e){var t="mx-1 shadow-inner-lg m-2 "+(!!e.secondary?"bg-gray-500 rounded-3xl":"bg-white rounded-full")+" "+e.className,n={backgroundSize:"cover",backgroundRepeat:"no-repeat"};if(e.pokemon){var r=e.pokemon;return Object(m.jsx)("img",{className:t,style:n,src:r.sprites.front_default,alt:r.name})}return Object(m.jsx)("img",{className:t,style:n,src:e.url,alt:e.alt})}),w=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={pokemon:[],expanded_pokemon:0},e.BATCH_SIZE=50,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadNextPokemonBatch(151)}},{key:"loadNextPokemonBatch",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.BATCH_SIZE,n=f.getInstance(),r=this.state.pokemon.length,a=r+1;a<=r+t&&!(a>n.NUMBER_OF_POKEMON);a++)n.getPokemon(a).then((function(t){e.state.pokemon.push(t),e.state.pokemon.sort((function(e,t){return e.id>t.id})),e.setState(e.state)}))}},{key:"isSelected",value:function(e){return e.id===this.state.expanded_pokemon}},{key:"render",value:function(){var e=this,t=this.state.pokemon;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"flex flex-wrap browse justify-center",children:t.map((function(t){return Object(m.jsx)("div",{className:"card shadow-inner-lg text-center bg-gray-800 hover:bg-gray-500 p-4 "+(e.state.expanded_pokemon===t.id?"expanded":""),onMouseOver:function(){return e.setState({expanded_pokemon:t.id})},onClick:function(){return e.props.history.push("/show/"+t.id)},children:Object(m.jsxs)("div",{className:"grid grid-cols-2",children:[Object(m.jsxs)("div",{className:e.isSelected(t)?"":"col-span-2",children:[Object(m.jsx)(y,{className:"mx-auto",pokemon:t}),Object(m.jsx)("div",{style:{border:"solid 0.1rem",borderColor:j.getBorder(t.types[0].type.name)}}),Object(m.jsx)("div",{className:"text-white",children:t.name[0].toUpperCase()+t.name.slice(1)}),t.types.map((function(e){return Object(m.jsx)(v,{type:e.type.name,children:k(e.type.name)},e.type.name)}))]}),e.isSelected(t)?Object(m.jsx)(O,{pokemon:t}):""]})},t.id)}))}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)("button",{className:"bg-gray-200 text-gray-800 p-3 hover:shadow-inner",onClick:function(){return e.loadNextPokemonBatch()},children:"Load More..."})})]})}}]),n}(a.a.Component),_=n(19),N=n(22),S=function(e){return Object(m.jsx)("div",{className:"flex flex-wrap justify-center ",children:Object(m.jsx)(N.TailSpin,{height:"50%",width:"50%"})})},C=function(e){var t;return Object(m.jsx)("div",{className:"flex flex-wrap rounded-3xl shadow-inner-lg mb-2 "+(null!==(t=e.className)&&void 0!==t?t:"bg-gray-800"),children:e.children})},P=function(e){var t=e.pokemon;return Object(m.jsx)("div",{className:"m-3",children:t.moves.map((function(e){return Object(m.jsxs)("div",{children:[" ",e.move.name," "]},e.move.name)}))})},E=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={pokemon:void 0,evo_chain:void 0},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.pokemon;f.getInstance().getPokemon(t).then((function(t){return e.setState({pokemon:t})})),this.formatEvoChain().then((function(t){return e.setState({evo_chain:t})}))}},{key:"formatEvoChain",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t,n,r,a,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getInstance().getEvolutionChainFromSpecies(this.props.match.params.pokemon);case 2:t=e.sent,n=[],r=t.chain;case 5:if(!r||!r.species){e.next=15;break}return a=r.species.url.split("/"),s=parseInt(a[a.length-2]),e.next=10,f.getInstance().getPokemon(s);case 10:o=e.sent,n.push(o),r=r.evolves_to[0],e.next=5;break;case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.pokemon,t=this.state.evo_chain;return void 0===e||void 0===t?Object(m.jsx)(S,{}):Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)("div",{className:"w-full lg:w-5/6 shadow-inner-lg bg-gray-500 p-4",children:Object(m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 md:gap-4",children:[Object(m.jsxs)("div",{className:"order-first",children:[Object(m.jsxs)(C,{children:[Object(m.jsx)("div",{children:Object(m.jsx)(y,{pokemon:e})}),Object.entries(e.sprites).filter((function(e){var t=Object(_.a)(e,2),n=(t[0],t[1]);return null!==n&&"object"!==typeof n})).sort((function(e,t){return t[0].localeCompare(e[0])})).map((function(e){var t=Object(_.a)(e,2),n=t[0],r=t[1];return Object(m.jsx)("div",{children:Object(m.jsx)(y,{url:r,alt:n,secondary:!0})},n)}))]}),Object(m.jsx)(C,{className:"bg-gray-200 justify-center",children:this.state.evo_chain.map((function(e){return Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)(y,{url:e.sprites.front_default,alt:e.id,secondary:!0}),Object(m.jsx)("div",{className:"mb-3",children:e.types.map((function(e){return Object(m.jsx)(v,{type:e.type.name,children:k(e.type.name)},e.type.name)}))})]},e.id)}))})]}),Object(m.jsx)("div",{className:"order-2 md:order-3",children:Object(m.jsx)(C,{children:Object(m.jsx)(O,{pokemon:e,showValue:!0})})}),Object(m.jsx)("div",{className:"order-last",children:Object(m.jsx)(C,{children:Object(m.jsx)(P,{pokemon:e})})})]})})})}}]),n}(a.a.Component),F=n(23),B=n(2);var A=function(){return Object(m.jsx)(F.a,{basename:"/pokedex_react",children:Object(m.jsx)("div",{className:"App h-screen bg-black text-white overflow-auto",children:Object(m.jsxs)(B.c,{children:[Object(m.jsx)(B.a,{exact:!0,path:"/",component:w}),Object(m.jsx)(B.a,{exact:!0,path:"/loading",component:S}),Object(m.jsx)(B.a,{path:"/show/:pokemon",component:E})]})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),s(e),o(e)}))};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(A,{})}),document.getElementById("root")),I()}},[[39,1,2]]]);
//# sourceMappingURL=main.e5ba62fe.chunk.js.map